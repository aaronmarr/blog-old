<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ renderData.title or title or metadata.title }}</title>
    <meta name="Description" content="{{ renderData.description or description or metadata.description }}">
    <link rel="stylesheet" href="https://necolas.github.io/normalize.css/8.0.1/normalize.css">
    <link type="text/css" rel="stylesheet" href="{{ '/build/index.css' | url }}?v=13">
    <link rel="stylesheet" href="{{ '/build/prism-base16-monokai.dark.css' | url }}?v=14">
    <link rel="alternate" href="{{ metadata.feed.path | url }}" type="application/atom+xml" title="{{ metadata.title }}">
    <!-- <link rel="stylesheet" href="//basehold.it/8">     -->
  </head>
  <body class="line-numbers dark">
    {% set postslist = collections.posts | head(-3) %}

    <header class="header">
      <div class="header__content">
        <h1 class="site-name">
          <a class="site-name__link" href="{{ postslist[0].url | url }}">
            {{ metadata.title }}
          </a>
        </h1>
        <nav class="nav">
          <ul class="nav__list">
            {%- for nav in collections.nav -%}
            <li class="nav__item{% if nav.url == page.url %} nav__item--active{% endif %}">
              <a class="nav__link" href="{{ nav.url | url }}">
                {{ nav.data.navtitle }}
              </a>
            </li>
            {%- endfor -%}
            <li class="nav__item">
              <a href="#" class="nav__link" onclick="localStorage.setItem('mode', (localStorage.getItem('mode') || 'dark') === 'dark' ? 'light' : 'dark'); localStorage.getItem('mode') === 'dark' ? document.querySelector('body').classList.add('dark') : document.querySelector('body').classList.remove('dark')" title="Dark/light">
                Light|Dark
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <main{% if templateClass %} class="main typeset {{ templateClass }}"{% endif %}>
      {{ content | safe }}
    </main>

    <footer class="footer">
      <div class="footer__content">
        <p>&copy; Aaron Marr 2019.</p>
      </div>
    </footer>

    <div id="redirect" data-redirect-url="{{ postslist[0].url | url }}"</div>
    <script>
      document.addEventListener('DOMContentLoaded', function(event) {
        ((localStorage.getItem('mode') || 'dark') === 'dark') ? document.querySelector('body').classList.add('dark') : document.querySelector('body').classList.remove('dark')
      })</script>
  </body>
</html>
